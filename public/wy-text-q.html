<link rel="import" href="bower_components/polymer/polymer-element.html">

<dom-module id="wy-text-q">
  <template>
    <style>
      :host {        
        display: block;
      }
      
      .question {
        color: white;
      }
      
      .container {        
        display: flex;
        margin-top: 5px;
      }
                  
      .textarea, .textview {        
        padding: 5px;
        border-radius: 3px;
        font-size: small;
        margin: 0;
        width: 100%;
      }
      
      .textarea {            
        background: white;
        width: 100%;
        height: 70px;
        border: thin solid #cbcbcb;
        border-color: rgba(255, 255, 255, 0.22);
        border-radius: 5px;
        flex: 1;        
      }
                        
      .textview, .textarea[readonly] {
        display: none;        
      }
      
      :host([readonly]) .textview{
        color: white;
        background: rgba(255, 255, 255, 0.1);
        display: block;        
      }
      
    </style> 
        
    <div>      
      <label class="question">[[question]]</label>
      <div class="container">
        <textarea class="textarea" value="{{value::input}}" readonly$="{{readonly}}"></textarea>
        <p class="textview">[[value]]</p>
      </div>
    </div>
  </template>
  
  <script>    
    class TextQ extends Polymer.Element {
      static get is() { return "wy-text-q"; }
      
      static get properties() {
        return {
          question: String,
          readonly: {
            type: Boolean,            
            value: false,
            reflectToAttribute: true
          },
          value: {
            type: String,
            notify: true
          }
        };
      }      
    }
    
    window.addEventListener('WebComponentsReady', function() {      
      customElements.define('wy-text-q', TextQ);
    });
  </script>
</dom-module>